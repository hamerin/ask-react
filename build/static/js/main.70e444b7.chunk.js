(this["webpackJsonpask-react"]=this["webpackJsonpask-react"]||[]).push([[0],{139:function(e,t,n){e.exports=n(157)},157:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(47),i=n.n(o),s=n(23),l=n(20),u=n.n(l),f=n(42),d=n(73);n(145);function p(e){return h.apply(this,arguments)}function h(){return(h=Object(f.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,t.get();case 3:return e.sent.forEach((function(e){n.push(e.id)})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return c.a.createElement("div",{id:"color-changer",onClick:e.onColorChange},c.a.createElement("span",null,"\u2726 ".concat(e.colorCode.slice(1))))}var b=n(170),v=n(173),g=n(171),w=n(174),k=n(175),E=n(70),j=n(80),O=n.n(j);n(150);function x(e){var t=Object(r.useState)(""),n=Object(s.a)(t,2),o=n[0],i=n[1],l=Object(r.useState)(!1),d=Object(s.a)(l,2),p=d[0],h=d[1],m=Object(r.useState)(!1),j=Object(s.a)(m,2),x=j[0],S=j[1],y=Object(r.useState)(!1),C=Object(s.a)(y,2),U=C[0],A=C[1],W=a.collection("Ask");return c.a.createElement(b.a,null,c.a.createElement(v.a,{id:"question_form",success:p,error:x},c.a.createElement(v.a.Field,{error:o.length>140,control:g.a,rows:"7",placeholder:"\uc9c8\ubb38\uc744 \ub0a8\uae30\uc138\uc694!",value:o,onChange:function(e){i(e.target.value)}}),c.a.createElement(w.a,{success:!0,header:"\uc9c8\ubb38 \uc644\ub8cc",content:"\uc9c8\ubb38 \uc81c\ucd9c\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc644\ub8cc\ub418\uc5c8\uc5b4\uc694!"}),c.a.createElement(w.a,{error:!0,header:"\uc9c8\ubb38 \uc81c\ucd9c \uc2e4\ud328",content:"\uc9c8\ubb38 \ub0b4\uc6a9\uc740 \uacf5\ubc31\uc774\uac70\ub098, 140\uc790\ub97c \ub118\uae38 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."}),c.a.createElement(k.a,{disabled:o.length>140,loading:U,basic:!0,fluid:!0,onClick:function(){var t=o.replace(/^\s+/,"").replace(/\s+$/,"");""===t||o.length>140?S(!0):(A(!0),Object(f.a)(u.a.mark((function n(){var a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=O.a.now(),n.next=4,W.doc(a.toString()).set({content:t,answer:"\uc544\uc9c1 \ub2f5\ubcc0\ub418\uc9c0 \uc54a\uc558\uc5b4\uc694 \u3160\u3160...",isAnswered:!1,timestamp:O()(a).locale("ko").format("lll")});case 4:i(""),h(!0),A(!1),e.onUpdate(),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))())}},c.a.createElement(E.a,{name:"paper plane"})," \uc9c8\ubb38 \uc81c\ucd9c\ud558\uae30 (".concat(o.length,"/140\uc790)"))))}var S=n(110),y=n(176),C=n(177),U=n(172);function A(e,t){for(var n=0,a=e.length;n<a;){var r=n+a>>1;e[r]<t?n=r+1:a=r}return n}function W(e,t){for(var n=0,a=e.length;n<a;){var r=n+a>>1;e[r]<=t?n=r+1:a=r}return n}function N(e){var t=Object(r.useState)([]),n=Object(s.a)(t,2),o=n[0],i=n[1],l=Object(r.useState)(0),d=Object(s.a)(l,2),h=d[0],m=d[1],v=Object(r.useState)(!1),g=Object(s.a)(v,2),w=g[0],j=g[1],O=a.collection("Ask");function x(e,t){return c.a.createElement(y.a,{vertical:!0,key:t},c.a.createElement(C.a,{size:"medium"},e.content,c.a.createElement(C.a,{sub:!0},e.timestamp)),c.a.createElement("p",null,e.isAnswered?c.a.createElement(E.a,{name:"paper plane"}):c.a.createElement(E.a,{name:"paper plane outline"}),e.answer))}function N(){return I.apply(this,arguments)}function I(){return(I=Object(f.a)(u.a.mark((function e(){var t,n,a,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(O);case 2:if(t=e.sent,m(t.length),o.length){e.next=7;break}return e.abrupt("return");case 7:n=W(t,o[0].id),a=[],r=n;case 10:if(!(r<t.length)){e.next=19;break}return c=t[r],e.next=14,O.doc(t[r]).get();case 14:s=e.sent.data(),a.push({id:c,elem:x(s,c)});case 16:r++,e.next=10;break;case 19:a.reverse(),i((function(e){return[].concat(a,Object(S.a)(e))}));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return B.apply(this,arguments)}function B(){return(B=Object(f.a)(u.a.mark((function e(){var t,n,a,r,c,s,l,f,d=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:5,e.next=3,p(O);case 3:n=e.sent,m(n.length),a=o.length,r=a?A(n,o[a-1].id):n.length,c=[],s=r-1;case 9:if(!(s>=r-t)){e.next=20;break}if(!(s<0)){e.next=12;break}return e.abrupt("break",20);case 12:return l=n[s],e.next=15,O.doc(n[s]).get();case 15:f=e.sent.data(),c.push({id:l,elem:x(f,l)});case 17:s--,e.next=9;break;case 20:i((function(e){return[].concat(Object(S.a)(e),c)}));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){Object(f.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.willUpdate){t.next=11;break}if(n=e.willUpdate,e.setWillUpdate(0),1!==n){t.next=6;break}return t.next=6,N();case 6:if(2!==n){t.next=11;break}return j(!0),t.next=10,R();case 10:j(!1);case 11:case"end":return t.stop()}}),t)})))()})),o.length?c.a.createElement(b.a,{id:"answer_container"},o.map((function(e){return e.elem})),c.a.createElement("div",{className:"aligner"},c.a.createElement(k.a,{basic:!0,disabled:o.length===h,loading:w,onClick:function(){e.setWillUpdate(2)}},"\ub354 \ubd88\ub7ec\uc624\uae30 (".concat(o.length,"/").concat(h,")")))):c.a.createElement(b.a,{id:"answer_container"},c.a.createElement(U.a,{active:!0,inline:"centered"},"\uc9c8\ubb38\uc744 \uac00\uc838\uc624\uace0 \uc788\uc5b4\uc694..."))}function I(e,t){return Math.floor(Math.random()*(t-e)+e)}function R(){d.apps.length||d.initializeApp({apiKey:"AIzaSyBezSXPBJnfO3LteDK47G8AO1anNU6_EQk",authDomain:"hamerinask.firebaseapp.com",databaseURL:"https://hamerinask.firebaseio.com",projectId:"hamerinask",storageBucket:"hamerinask.appspot.com",messagingSenderId:"41818205126",appId:"1:41818205126:web:ec1d6fdfb44a158ef320c7",measurementId:"G-7JD8YMVR6R"}),a=d.firestore();var e=["#404759","#467f8c","#f2dd72","#f2bbbb","#382f4b","#005daa","#ab94fc","#abcdef","#c7e2cf","#c4beef","#ef4b3f","#134515"],t=Object(r.useState)(I(0,e.length)),n=Object(s.a)(t,2),o=n[0],i=n[1],l=Object(r.useState)(2),u=Object(s.a)(l,2),f=u[0],p=u[1];return c.a.createElement("div",{className:"c".concat(o+1)},c.a.createElement("div",{className:"hiu section full",id:"first"},c.a.createElement(m,{colorCode:e[o],onColorChange:function(){for(var t=I(0,e.length);t===o;)t=I(0,e.length);i(t)}}),c.a.createElement(x,{onUpdate:function(){return p(1)}})),c.a.createElement("div",{className:"hiu section full",id:"second"},c.a.createElement(N,{willUpdate:f,setWillUpdate:p})))}n(156);var B=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(R,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");B?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):z(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):z(t,e)}))}}()}},[[139,1,2]]]);
//# sourceMappingURL=main.70e444b7.chunk.js.map